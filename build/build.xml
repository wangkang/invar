<?xml version="1.0" ?>
<project name="invar.build" default="jar">

	<property name="invar.version" value="1" />
	<property name="invar.dir.class" value="${basedir}/classes" />
	<property name="invar.dir.java" value="${basedir}/../src" />
	<property name="invar.file.jar" value="${basedir}/invar.jar" />

	<target name="javac">
		<delete dir="${invar.dir.class}" />
		<mkdir dir="${invar.dir.class}" />
		<javac srcdir="${invar.dir.java}" destdir="${invar.dir.class}"
			debug="true" optimize="true" debuglevel="lines,vars,source"
			deprecation="true" failonerror="true" includeantruntime="on">
		</javac>
	</target>

	<target name="jar" depends="javac">
		<jar jarfile="${invar.file.jar}" compress="true" basedir="${invar.dir.class}">
			<include name="**/*.class" />
			<manifest>
				<attribute name="Comment" value="contains source code" />
				<attribute name="Specification-Title" value="invar" />
				<attribute name="Specification-Version" value="${invar.version}" />
				<attribute name="Specification-Vendor" value="WangKang" />
				<attribute name="Implementation-Title" value="invar" />
				<attribute name="Implementation-Version" value="${invar.version}" />
				<attribute name="Implementation-Vendor" value="WangKang" />
				<attribute name="Implementation-URL" value="http://..." />
				<attribute name="License" value="Undefined" />
			</manifest>
		</jar>
		<jar jarfile="${invar.file.jar}" compress="true" basedir="${invar.dir.java}" update="true">
			<include name="**/*.java" />
			<include name="**/*.as" />
			<include name="**/*.xml" />
			<include name="**/*.txt" />
		</jar>
	</target>

</project>
